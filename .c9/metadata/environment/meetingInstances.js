{"filter":false,"title":"meetingInstances.js","tooltip":"/meetingInstances.js","undoManager":{"mark":11,"position":11,"stack":[[{"start":{"row":0,"column":0},"end":{"row":98,"column":97},"action":"insert","lines":["// npm install cheerio","var request = require('request');","var fs = require('fs');","var cheerio = require('cheerio');","","// load the thesis text file into a variable, `content`","// this is the file that we created in the starter code from last week","//array function","var content = fs.readFileSync('./data/AA06.txt');","","// load `content` into a cheerio object","var $ = cheerio.load(content);","","","// write the project titles to a text file","var meetings = []; // this variable will hold the lines of text","let aMeeting;","","$('tbody tbody tbody').children().each(function(i, elem) {","    ","    $(elem).find(\"td\").each(function(i, td) {","        ","      if (i===0) { ","          let html= $(td).html();","          let brArray= html.split(\"<br>\");","          let address= brArray[2].split(\",\")[0].split(\".\")[0].split(\"-\")[0].trim();","          let meetingName= brArray[1].replace(/<.?b>/g,\"\").trim(); ","          let meetingTitle= brArray[0].replace(/.....$/, \"\").split(\">\")[1].trim();","          let fullLocation= brArray[2].trim().replace(\"\\n\\t\\t\\t\\t\\t\\t\", \"\") + \" \" + brArray[3].trim();","          let scheduleDetails= $(td).find(\".detailsBox\").text().replace(\"\\'s\", \"&apos;s\").trim();   ","          let meetingInstances=[];","        //   if ((scheduleDetails)==='') return;      //why zero doesn't work but empty string does?","            aMeeting= { ","                address, meetingName, meetingTitle, fullLocation, scheduleDetails, meetingInstances","                }","      }","","      if (i === 1) {","        let meetingInstances= $(td).html().split(/<br>\\s+?<br>/).map(item=>item.trim()); //this is an array","        meetingInstances.forEach((meetingInstance)=> {","            let timeData= meetingInstance.split(/<b>.*?<\\/b>/).filter(x=>x!== \"\")","              .map(x=>{","               return x.trim().replace(/ <br>$/, \"\"); ","                    }","                    );","            let dayN= meetingInstance.split('</b>')[0].replace(/.....$/, \"\").replace(/^.../, \"\");","             if (dayN.indexOf('day') === -1) return;","            if (timeData.length === 0) return;","            // if ((timeData[3])===0) return;","            let hhmm=timeData[0].split(/[: ]/);","            hhmm[0] = (hhmm[2] === 'PM' && hhmm[0] !== \"12\") ? +hhmm[0]+12 : +hhmm[0] ;","            timeData[0]= hhmm[0] + hhmm[1];","            hhmm=timeData[1].split(/[: ]/);","            hhmm[0] = (hhmm[2] === 'PM' && hhmm[0] !== \"12\") ? +hhmm[0]+12 : +hhmm[0] ;","            timeData[1]= hhmm[0] + hhmm[1];","            // console.log(+timeData[1])","           ","            aMeeting.meetingInstances.push( {","                day: dayN,","                startTime: +timeData[0],","                endTime: +timeData[1],","                meetingType: (timeData[2]) ? timeData[2] : \"\",","                specialInterest: (timeData[3]) ? timeData[3] : \"\",","                    }","                    );","                     //create IDs ","","        });","      meetings.push(aMeeting);","     }","  ","});","","//  console.log(id)","","","});","","","const zone = 6;","let id= (zone*1000)","let r= (zone*1000)","","for (let i=0; i<meetings.length; i++) {","    meetings[i][\"locationId\"]= id;","      "," let meetingInstances = meetings[i].meetingInstances;","//   console.log(id,meetingInstances);","  for (let i=0;i<meetingInstances.length;i++) {","      meetingInstances[i][\"locationId\"]=id;","    //   console.log(id,meetingInstances[i])","    ","  }","  id ++;","}","","","","fs.writeFileSync('/home/ec2-user/environment/results06.json', JSON.stringify(meetings, null, 2));"],"id":1}],[{"start":{"row":32,"column":12},"end":{"row":34,"column":17},"action":"remove","lines":["aMeeting= { ","                address, meetingName, meetingTitle, fullLocation, scheduleDetails, meetingInstances","                }"],"id":6},{"start":{"row":32,"column":8},"end":{"row":32,"column":12},"action":"remove","lines":["    "]}],[{"start":{"row":66,"column":20},"end":{"row":66,"column":28},"action":"remove","lines":["aMeeting"],"id":7},{"start":{"row":66,"column":20},"end":{"row":66,"column":21},"action":"insert","lines":["m"]},{"start":{"row":66,"column":21},"end":{"row":66,"column":22},"action":"insert","lines":["e"]},{"start":{"row":66,"column":22},"end":{"row":66,"column":23},"action":"insert","lines":["e"]},{"start":{"row":66,"column":23},"end":{"row":66,"column":24},"action":"insert","lines":["t"]},{"start":{"row":66,"column":24},"end":{"row":66,"column":25},"action":"insert","lines":["i"]},{"start":{"row":66,"column":25},"end":{"row":66,"column":26},"action":"insert","lines":["n"]},{"start":{"row":66,"column":26},"end":{"row":66,"column":27},"action":"insert","lines":["g"]}],[{"start":{"row":66,"column":27},"end":{"row":66,"column":28},"action":"insert","lines":["I"],"id":8},{"start":{"row":66,"column":28},"end":{"row":66,"column":29},"action":"insert","lines":["n"]},{"start":{"row":66,"column":29},"end":{"row":66,"column":30},"action":"insert","lines":["s"]},{"start":{"row":66,"column":30},"end":{"row":66,"column":31},"action":"insert","lines":["t"]},{"start":{"row":66,"column":31},"end":{"row":66,"column":32},"action":"insert","lines":["a"]},{"start":{"row":66,"column":32},"end":{"row":66,"column":33},"action":"insert","lines":["n"]},{"start":{"row":66,"column":33},"end":{"row":66,"column":34},"action":"insert","lines":["c"]},{"start":{"row":66,"column":34},"end":{"row":66,"column":35},"action":"insert","lines":["e"]},{"start":{"row":66,"column":35},"end":{"row":66,"column":36},"action":"insert","lines":["s"]}],[{"start":{"row":55,"column":20},"end":{"row":55,"column":21},"action":"remove","lines":["."],"id":9},{"start":{"row":55,"column":19},"end":{"row":55,"column":20},"action":"remove","lines":["g"]},{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"remove","lines":["n"]},{"start":{"row":55,"column":17},"end":{"row":55,"column":18},"action":"remove","lines":["i"]},{"start":{"row":55,"column":16},"end":{"row":55,"column":17},"action":"remove","lines":["t"]},{"start":{"row":55,"column":15},"end":{"row":55,"column":16},"action":"remove","lines":["e"]},{"start":{"row":55,"column":14},"end":{"row":55,"column":15},"action":"remove","lines":["e"]},{"start":{"row":55,"column":13},"end":{"row":55,"column":14},"action":"remove","lines":["M"]},{"start":{"row":55,"column":12},"end":{"row":55,"column":13},"action":"remove","lines":["a"]}],[{"start":{"row":96,"column":45},"end":{"row":96,"column":54},"action":"remove","lines":["results06"],"id":10},{"start":{"row":96,"column":45},"end":{"row":96,"column":46},"action":"insert","lines":["m"]},{"start":{"row":96,"column":46},"end":{"row":96,"column":47},"action":"insert","lines":["e"]},{"start":{"row":96,"column":47},"end":{"row":96,"column":48},"action":"insert","lines":["e"]},{"start":{"row":96,"column":48},"end":{"row":96,"column":49},"action":"insert","lines":["t"]},{"start":{"row":96,"column":49},"end":{"row":96,"column":50},"action":"insert","lines":["i"]},{"start":{"row":96,"column":50},"end":{"row":96,"column":51},"action":"insert","lines":["n"]},{"start":{"row":96,"column":51},"end":{"row":96,"column":52},"action":"insert","lines":["g"]},{"start":{"row":96,"column":52},"end":{"row":96,"column":53},"action":"insert","lines":["R"]}],[{"start":{"row":96,"column":53},"end":{"row":96,"column":54},"action":"insert","lines":["e"],"id":11},{"start":{"row":96,"column":54},"end":{"row":96,"column":55},"action":"insert","lines":["s"]},{"start":{"row":96,"column":55},"end":{"row":96,"column":56},"action":"insert","lines":["u"]},{"start":{"row":96,"column":56},"end":{"row":96,"column":57},"action":"insert","lines":["l"]},{"start":{"row":96,"column":57},"end":{"row":96,"column":58},"action":"insert","lines":["t"]},{"start":{"row":96,"column":58},"end":{"row":96,"column":59},"action":"insert","lines":["s"]},{"start":{"row":96,"column":59},"end":{"row":96,"column":60},"action":"insert","lines":["0"]}],[{"start":{"row":96,"column":60},"end":{"row":96,"column":61},"action":"insert","lines":["6"],"id":12}],[{"start":{"row":71,"column":17},"end":{"row":71,"column":18},"action":"remove","lines":["d"],"id":15},{"start":{"row":71,"column":16},"end":{"row":71,"column":17},"action":"remove","lines":["i"]}],[{"start":{"row":71,"column":16},"end":{"row":71,"column":17},"action":"insert","lines":["m"],"id":16},{"start":{"row":71,"column":17},"end":{"row":71,"column":18},"action":"insert","lines":["e"]},{"start":{"row":71,"column":18},"end":{"row":71,"column":19},"action":"insert","lines":["e"]},{"start":{"row":71,"column":19},"end":{"row":71,"column":20},"action":"insert","lines":["t"]},{"start":{"row":71,"column":20},"end":{"row":71,"column":21},"action":"insert","lines":["i"]},{"start":{"row":71,"column":21},"end":{"row":71,"column":22},"action":"insert","lines":["n"]},{"start":{"row":71,"column":22},"end":{"row":71,"column":23},"action":"insert","lines":["g"]},{"start":{"row":71,"column":23},"end":{"row":71,"column":24},"action":"insert","lines":["s"]}],[{"start":{"row":71,"column":0},"end":{"row":71,"column":3},"action":"remove","lines":["// "],"id":17}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":3},"action":"insert","lines":["// "],"id":18},{"start":{"row":78,"column":0},"end":{"row":78,"column":3},"action":"insert","lines":["// "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":3},"action":"insert","lines":["// "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":3},"action":"insert","lines":["// "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":3},"action":"insert","lines":["// "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":3},"action":"insert","lines":["// "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":3},"action":"insert","lines":["// "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":3},"action":"insert","lines":["// "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":3},"action":"insert","lines":["// "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":3},"action":"insert","lines":["// "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":3},"action":"insert","lines":["// "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":3},"action":"insert","lines":["// "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":3},"action":"insert","lines":["// "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":3},"action":"insert","lines":["// "]}]]},"ace":{"folds":[],"scrolltop":979.5,"scrollleft":0,"selection":{"start":{"row":77,"column":3},"end":{"row":96,"column":107},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":60,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1571173401617,"hash":"184932de8ca9d595ab0ebbee8d922513e05e171b"}