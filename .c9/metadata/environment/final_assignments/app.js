{"filter":false,"title":"app.js","tooltip":"/final_assignments/app.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":227,"column":0},"end":{"row":229,"column":3},"action":"insert","lines":["app.use(function (req, res, next) {","  res.status(404).send(\"Sorry can't find that!\");","});"],"id":211}],[{"start":{"row":226,"column":0},"end":{"row":227,"column":0},"action":"insert","lines":["",""],"id":212},{"start":{"row":227,"column":0},"end":{"row":227,"column":1},"action":"insert","lines":["/"]},{"start":{"row":227,"column":1},"end":{"row":227,"column":2},"action":"insert","lines":["/"]},{"start":{"row":227,"column":2},"end":{"row":227,"column":3},"action":"insert","lines":["i"]},{"start":{"row":227,"column":3},"end":{"row":227,"column":4},"action":"insert","lines":["f"]}],[{"start":{"row":227,"column":4},"end":{"row":227,"column":5},"action":"insert","lines":[" "],"id":213},{"start":{"row":227,"column":5},"end":{"row":227,"column":6},"action":"insert","lines":["n"]},{"start":{"row":227,"column":6},"end":{"row":227,"column":7},"action":"insert","lines":["o"]},{"start":{"row":227,"column":7},"end":{"row":227,"column":8},"action":"insert","lines":["t"]}],[{"start":{"row":227,"column":8},"end":{"row":227,"column":9},"action":"insert","lines":[" "],"id":214},{"start":{"row":227,"column":9},"end":{"row":227,"column":10},"action":"insert","lines":["f"]},{"start":{"row":227,"column":10},"end":{"row":227,"column":11},"action":"insert","lines":["o"]},{"start":{"row":227,"column":11},"end":{"row":227,"column":12},"action":"insert","lines":["u"]},{"start":{"row":227,"column":12},"end":{"row":227,"column":13},"action":"insert","lines":["n"]},{"start":{"row":227,"column":13},"end":{"row":227,"column":14},"action":"insert","lines":["d"]}],[{"start":{"row":204,"column":3},"end":{"row":205,"column":65},"action":"remove","lines":["     // the information you want to send back to the browser goes in the res.send(). It can either be html (created either manually or via handlebars) or just JSON data.","        // in this example it is the data from the database query"],"id":215},{"start":{"row":204,"column":2},"end":{"row":204,"column":3},"action":"remove","lines":[" "]},{"start":{"row":204,"column":1},"end":{"row":204,"column":2},"action":"remove","lines":[" "]},{"start":{"row":204,"column":0},"end":{"row":204,"column":1},"action":"remove","lines":[" "]},{"start":{"row":203,"column":14},"end":{"row":204,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":183,"column":3},"end":{"row":184,"column":0},"action":"insert","lines":["",""],"id":216},{"start":{"row":184,"column":0},"end":{"row":184,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":184,"column":1},"end":{"row":184,"column":2},"action":"remove","lines":[" "],"id":217},{"start":{"row":184,"column":0},"end":{"row":184,"column":1},"action":"remove","lines":[" "]},{"start":{"row":183,"column":3},"end":{"row":184,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":174,"column":0},"end":{"row":174,"column":1},"action":"remove","lines":[" "],"id":218},{"start":{"row":173,"column":37},"end":{"row":174,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":170,"column":0},"end":{"row":171,"column":46},"action":"remove","lines":["//dear_diary query","//ask if req.query is the same as body parser "],"id":219},{"start":{"row":169,"column":0},"end":{"row":170,"column":0},"action":"remove","lines":["",""]},{"start":{"row":168,"column":6},"end":{"row":169,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":122,"column":10},"end":{"row":131,"column":17},"action":"remove","lines":["  // start leaflet js","            // fs.readFile('./aa.hbs', 'utf8', (error, myData) => {","            //     var template = handlebars.compile(myData, data)","            //     // console.log(templateVariables)","            //     templateVariables.blockofMeetings = data;","            //     templateVariables.myData = JSON.stringify(data);","            //     //console.log(templateVariables)","            //     var html = template(templateVariables)","            //     res.send(html)","            // })"],"id":220},{"start":{"row":122,"column":9},"end":{"row":122,"column":10},"action":"remove","lines":[" "]},{"start":{"row":122,"column":8},"end":{"row":122,"column":9},"action":"remove","lines":[" "]}],[{"start":{"row":122,"column":4},"end":{"row":122,"column":8},"action":"remove","lines":["    "],"id":221},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"remove","lines":["    "]},{"start":{"row":121,"column":36},"end":{"row":122,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":107,"column":0},"end":{"row":109,"column":29},"action":"remove","lines":["    //res.send('<h3>this is the page for my sensor data</h3>');  ","    // Connect to the AWS RDS Postgres database","// var templateVariables= {};"],"id":222},{"start":{"row":106,"column":44},"end":{"row":107,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":106,"column":44},"end":{"row":107,"column":0},"action":"remove","lines":["",""],"id":223}],[{"start":{"row":105,"column":0},"end":{"row":105,"column":1},"action":"insert","lines":["/"],"id":224},{"start":{"row":105,"column":1},"end":{"row":105,"column":2},"action":"insert","lines":["/"]},{"start":{"row":105,"column":2},"end":{"row":105,"column":3},"action":"insert","lines":["r"]},{"start":{"row":105,"column":3},"end":{"row":105,"column":4},"action":"insert","lines":["e"]},{"start":{"row":105,"column":4},"end":{"row":105,"column":5},"action":"insert","lines":["q"]},{"start":{"row":105,"column":5},"end":{"row":105,"column":6},"action":"insert","lines":["u"]},{"start":{"row":105,"column":6},"end":{"row":105,"column":7},"action":"insert","lines":["e"]},{"start":{"row":105,"column":7},"end":{"row":105,"column":8},"action":"insert","lines":["s"]}],[{"start":{"row":105,"column":8},"end":{"row":105,"column":9},"action":"insert","lines":["t"],"id":225}],[{"start":{"row":105,"column":9},"end":{"row":105,"column":10},"action":"insert","lines":[" "],"id":226},{"start":{"row":105,"column":10},"end":{"row":105,"column":11},"action":"insert","lines":["f"]},{"start":{"row":105,"column":11},"end":{"row":105,"column":12},"action":"insert","lines":["o"]},{"start":{"row":105,"column":12},"end":{"row":105,"column":13},"action":"insert","lines":["r"]}],[{"start":{"row":105,"column":13},"end":{"row":105,"column":14},"action":"insert","lines":[" "],"id":227},{"start":{"row":105,"column":14},"end":{"row":105,"column":15},"action":"insert","lines":["f"]}],[{"start":{"row":105,"column":14},"end":{"row":105,"column":15},"action":"remove","lines":["f"],"id":228}],[{"start":{"row":105,"column":14},"end":{"row":105,"column":15},"action":"insert","lines":["d"],"id":229},{"start":{"row":105,"column":15},"end":{"row":105,"column":16},"action":"insert","lines":["e"]},{"start":{"row":105,"column":16},"end":{"row":105,"column":17},"action":"insert","lines":["f"]},{"start":{"row":105,"column":17},"end":{"row":105,"column":18},"action":"insert","lines":["a"]},{"start":{"row":105,"column":18},"end":{"row":105,"column":19},"action":"insert","lines":["u"]},{"start":{"row":105,"column":19},"end":{"row":105,"column":20},"action":"insert","lines":["l"]},{"start":{"row":105,"column":20},"end":{"row":105,"column":21},"action":"insert","lines":["t"]}],[{"start":{"row":105,"column":21},"end":{"row":105,"column":22},"action":"insert","lines":[" "],"id":230},{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"insert","lines":["v"]},{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"insert","lines":["i"]},{"start":{"row":105,"column":24},"end":{"row":105,"column":25},"action":"insert","lines":["e"]},{"start":{"row":105,"column":25},"end":{"row":105,"column":26},"action":"insert","lines":["w"]}],[{"start":{"row":105,"column":26},"end":{"row":105,"column":27},"action":"insert","lines":[" "],"id":231},{"start":{"row":105,"column":27},"end":{"row":105,"column":28},"action":"insert","lines":["o"]},{"start":{"row":105,"column":28},"end":{"row":105,"column":29},"action":"insert","lines":["f"]}],[{"start":{"row":105,"column":29},"end":{"row":105,"column":30},"action":"insert","lines":[" "],"id":232},{"start":{"row":105,"column":30},"end":{"row":105,"column":31},"action":"insert","lines":["m"]},{"start":{"row":105,"column":31},"end":{"row":105,"column":32},"action":"insert","lines":["a"]}],[{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"insert","lines":[" "],"id":233}],[{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"remove","lines":[" "],"id":234}],[{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"insert","lines":["o"],"id":235}],[{"start":{"row":105,"column":33},"end":{"row":105,"column":34},"action":"insert","lines":[" "],"id":236},{"start":{"row":105,"column":34},"end":{"row":105,"column":35},"action":"insert","lines":["w"]},{"start":{"row":105,"column":35},"end":{"row":105,"column":36},"action":"insert","lines":["t"]},{"start":{"row":105,"column":36},"end":{"row":105,"column":37},"action":"insert","lines":["u"]}],[{"start":{"row":105,"column":36},"end":{"row":105,"column":37},"action":"remove","lines":["u"],"id":237},{"start":{"row":105,"column":35},"end":{"row":105,"column":36},"action":"remove","lines":["t"]},{"start":{"row":105,"column":34},"end":{"row":105,"column":35},"action":"remove","lines":["w"]},{"start":{"row":105,"column":33},"end":{"row":105,"column":34},"action":"remove","lines":[" "]},{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"remove","lines":["o"]}],[{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"insert","lines":["p"],"id":238}],[{"start":{"row":105,"column":33},"end":{"row":105,"column":34},"action":"insert","lines":[" "],"id":239},{"start":{"row":105,"column":34},"end":{"row":105,"column":35},"action":"insert","lines":["w"]},{"start":{"row":105,"column":35},"end":{"row":105,"column":36},"action":"insert","lines":["i"]},{"start":{"row":105,"column":36},"end":{"row":105,"column":37},"action":"insert","lines":["t"]},{"start":{"row":105,"column":37},"end":{"row":105,"column":38},"action":"insert","lines":["h"]}],[{"start":{"row":105,"column":38},"end":{"row":105,"column":39},"action":"insert","lines":[" "],"id":240},{"start":{"row":105,"column":39},"end":{"row":105,"column":40},"action":"insert","lines":["o"]},{"start":{"row":105,"column":40},"end":{"row":105,"column":41},"action":"insert","lines":["n"]},{"start":{"row":105,"column":41},"end":{"row":105,"column":42},"action":"insert","lines":["l"]},{"start":{"row":105,"column":42},"end":{"row":105,"column":43},"action":"insert","lines":["y"]}],[{"start":{"row":105,"column":43},"end":{"row":105,"column":44},"action":"insert","lines":[" "],"id":241},{"start":{"row":105,"column":44},"end":{"row":105,"column":45},"action":"insert","lines":["l"]},{"start":{"row":105,"column":45},"end":{"row":105,"column":46},"action":"insert","lines":["a"]},{"start":{"row":105,"column":46},"end":{"row":105,"column":47},"action":"insert","lines":["t"]}],[{"start":{"row":105,"column":47},"end":{"row":105,"column":48},"action":"insert","lines":[" "],"id":242},{"start":{"row":105,"column":48},"end":{"row":105,"column":49},"action":"insert","lines":["a"]},{"start":{"row":105,"column":49},"end":{"row":105,"column":50},"action":"insert","lines":["n"]},{"start":{"row":105,"column":50},"end":{"row":105,"column":51},"action":"insert","lines":["d"]}],[{"start":{"row":105,"column":51},"end":{"row":105,"column":52},"action":"insert","lines":[" "],"id":243},{"start":{"row":105,"column":52},"end":{"row":105,"column":53},"action":"insert","lines":["l"]},{"start":{"row":105,"column":53},"end":{"row":105,"column":54},"action":"insert","lines":["o"]},{"start":{"row":105,"column":54},"end":{"row":105,"column":55},"action":"insert","lines":["n"]},{"start":{"row":105,"column":55},"end":{"row":105,"column":56},"action":"insert","lines":["g"]}],[{"start":{"row":108,"column":17},"end":{"row":109,"column":0},"action":"remove","lines":["",""],"id":244}],[{"start":{"row":107,"column":0},"end":{"row":107,"column":4},"action":"insert","lines":["    "],"id":245}],[{"start":{"row":108,"column":0},"end":{"row":108,"column":4},"action":"insert","lines":["    "],"id":246}],[{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"remove","lines":["    "],"id":247}],[{"start":{"row":109,"column":0},"end":{"row":110,"column":0},"action":"insert","lines":["",""],"id":248}],[{"start":{"row":89,"column":17},"end":{"row":90,"column":0},"action":"remove","lines":["",""],"id":249}],[{"start":{"row":86,"column":45},"end":{"row":87,"column":0},"action":"remove","lines":["",""],"id":250}],[{"start":{"row":87,"column":0},"end":{"row":87,"column":4},"action":"insert","lines":["    "],"id":251},{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":89,"column":0},"end":{"row":89,"column":4},"action":"remove","lines":["    "],"id":252}],[{"start":{"row":89,"column":0},"end":{"row":90,"column":0},"action":"insert","lines":["",""],"id":253}],[{"start":{"row":87,"column":4},"end":{"row":88,"column":0},"action":"insert","lines":["",""],"id":254},{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":89,"column":21},"end":{"row":90,"column":0},"action":"remove","lines":["",""],"id":255}],[{"start":{"row":107,"column":21},"end":{"row":108,"column":0},"action":"remove","lines":["",""],"id":256}],[{"start":{"row":106,"column":4},"end":{"row":107,"column":0},"action":"insert","lines":["",""],"id":257},{"start":{"row":107,"column":0},"end":{"row":107,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":59,"column":31},"end":{"row":60,"column":0},"action":"remove","lines":["",""],"id":258}],[{"start":{"row":59,"column":31},"end":{"row":59,"column":32},"action":"insert","lines":[" "],"id":259}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":32},"action":"remove","lines":["//queryTime= req.body.queryTime "],"id":260}],[{"start":{"row":49,"column":0},"end":{"row":51,"column":29},"action":"remove","lines":["    //res.send('<h3>this is the page for my sensor data</h3>');  ","    // Connect to the AWS RDS Postgres database","// var templateVariables= {};"],"id":261},{"start":{"row":48,"column":41},"end":{"row":49,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":48,"column":41},"end":{"row":49,"column":0},"action":"remove","lines":["",""],"id":262}],[{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "],"id":263},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":0},"end":{"row":51,"column":1},"action":"insert","lines":["/"],"id":264},{"start":{"row":51,"column":1},"end":{"row":51,"column":2},"action":"insert","lines":["/"]},{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"insert","lines":["v"]},{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"insert","lines":["a"]},{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["r"]},{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["i"]},{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["a"]},{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"insert","lines":["b"]},{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["l"]},{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"insert","lines":["e"]}],[{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"insert","lines":["s"],"id":265}],[{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":[" "],"id":266},{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["f"]},{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"insert","lines":["o"]},{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"insert","lines":["r"]}],[{"start":{"row":51,"column":15},"end":{"row":51,"column":16},"action":"insert","lines":[" "],"id":267},{"start":{"row":51,"column":16},"end":{"row":51,"column":17},"action":"insert","lines":["d"]},{"start":{"row":51,"column":17},"end":{"row":51,"column":18},"action":"insert","lines":["y"]},{"start":{"row":51,"column":18},"end":{"row":51,"column":19},"action":"insert","lines":["n"]},{"start":{"row":51,"column":19},"end":{"row":51,"column":20},"action":"insert","lines":["a"]},{"start":{"row":51,"column":20},"end":{"row":51,"column":21},"action":"insert","lines":["m"]},{"start":{"row":51,"column":21},"end":{"row":51,"column":22},"action":"insert","lines":["i"]},{"start":{"row":51,"column":22},"end":{"row":51,"column":23},"action":"insert","lines":["c"]}],[{"start":{"row":51,"column":23},"end":{"row":51,"column":24},"action":"insert","lines":[" "],"id":268},{"start":{"row":51,"column":24},"end":{"row":51,"column":25},"action":"insert","lines":["q"]},{"start":{"row":51,"column":25},"end":{"row":51,"column":26},"action":"insert","lines":["u"]},{"start":{"row":51,"column":26},"end":{"row":51,"column":27},"action":"insert","lines":["e"]},{"start":{"row":51,"column":27},"end":{"row":51,"column":28},"action":"insert","lines":["r"]},{"start":{"row":51,"column":28},"end":{"row":51,"column":29},"action":"insert","lines":["y"]}],[{"start":{"row":51,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":269}],[{"start":{"row":82,"column":0},"end":{"row":98,"column":3},"action":"remove","lines":["app.post('/aaMeetings',  function(req, res) {","    ","    const client = new Client(db_credentials);","    client.connect();","var thisQuery = \"SELECT latitude, longitude, address, json_agg(json_build_object('Meeting Name', meetingname, 'Meeting Title', meetingtitle, 'Day', day, 'Start Time', starttime,  'End Time', endtime, 'Metting Type', meetingtype, 'Special Interest', specialinterest, 'Address', fulllocation)) as meetings FROM aaallmeetings JOIN aaallmeetinginstances ON aaallmeetings.locationid = aaallmeetinginstances.locationid WHERE (1=1) GROUP BY latitude, longitude, address;\";","    client.query(thisQuery, (err, results) => {","        if (err) {throw err}","        else {","            const data = results.rows;","            // console.log(data)","              client.end();","              return res.json(data);","        ","        }","        ","    });","});"],"id":270},{"start":{"row":81,"column":0},"end":{"row":82,"column":0},"action":"remove","lines":["",""]},{"start":{"row":80,"column":0},"end":{"row":81,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":80,"column":0},"end":{"row":81,"column":0},"action":"remove","lines":["",""],"id":271}],[{"start":{"row":41,"column":27},"end":{"row":42,"column":0},"action":"insert","lines":["",""],"id":272}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":34},"action":"insert","lines":["app.get('/dd', function(req, res1)"],"id":273}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":34},"action":"remove","lines":["app.get('/dd', function(req, res1)"],"id":274}],[{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"remove","lines":["",""],"id":275}],[{"start":{"row":35,"column":3},"end":{"row":35,"column":34},"action":"remove","lines":["app.set('view engine', 'html');"],"id":276},{"start":{"row":35,"column":2},"end":{"row":35,"column":3},"action":"remove","lines":[" "]},{"start":{"row":35,"column":1},"end":{"row":35,"column":2},"action":"remove","lines":["/"]},{"start":{"row":35,"column":0},"end":{"row":35,"column":1},"action":"remove","lines":["/"]},{"start":{"row":34,"column":7},"end":{"row":35,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":34,"column":7},"end":{"row":34,"column":8},"action":"insert","lines":[" "],"id":277},{"start":{"row":34,"column":8},"end":{"row":34,"column":9},"action":"insert","lines":["p"]},{"start":{"row":34,"column":9},"end":{"row":34,"column":10},"action":"insert","lines":["a"]},{"start":{"row":34,"column":10},"end":{"row":34,"column":11},"action":"insert","lines":["t"]},{"start":{"row":34,"column":11},"end":{"row":34,"column":12},"action":"insert","lines":["h"]}],[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":[" "],"id":278},{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"insert","lines":["f"]},{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"insert","lines":["o"]},{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"insert","lines":["r"]}],[{"start":{"row":34,"column":16},"end":{"row":34,"column":17},"action":"insert","lines":[" "],"id":279},{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"insert","lines":["a"]},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"insert","lines":["a"]}],[{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"insert","lines":[" "],"id":280},{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"insert","lines":["m"]},{"start":{"row":34,"column":21},"end":{"row":34,"column":22},"action":"insert","lines":["a"]},{"start":{"row":34,"column":22},"end":{"row":34,"column":23},"action":"insert","lines":["p"]}],[{"start":{"row":34,"column":23},"end":{"row":34,"column":24},"action":"insert","lines":[" "],"id":281}],[{"start":{"row":34,"column":23},"end":{"row":34,"column":24},"action":"remove","lines":[" "],"id":282},{"start":{"row":34,"column":22},"end":{"row":34,"column":23},"action":"remove","lines":["p"]},{"start":{"row":34,"column":21},"end":{"row":34,"column":22},"action":"remove","lines":["a"]},{"start":{"row":34,"column":20},"end":{"row":34,"column":21},"action":"remove","lines":["m"]},{"start":{"row":34,"column":19},"end":{"row":34,"column":20},"action":"remove","lines":[" "]},{"start":{"row":34,"column":18},"end":{"row":34,"column":19},"action":"remove","lines":["a"]},{"start":{"row":34,"column":17},"end":{"row":34,"column":18},"action":"remove","lines":["a"]},{"start":{"row":34,"column":16},"end":{"row":34,"column":17},"action":"remove","lines":[" "]},{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"remove","lines":["r"]},{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"remove","lines":["o"]},{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"remove","lines":["f"]},{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"remove","lines":[" "]}],[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":["s"],"id":283}],[{"start":{"row":34,"column":13},"end":{"row":34,"column":14},"action":"insert","lines":[" "],"id":284}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":3},"action":"remove","lines":["// "],"id":285},{"start":{"row":99,"column":0},"end":{"row":99,"column":3},"action":"remove","lines":["// "]},{"start":{"row":100,"column":0},"end":{"row":100,"column":3},"action":"remove","lines":["// "]},{"start":{"row":102,"column":0},"end":{"row":102,"column":3},"action":"remove","lines":["// "]},{"start":{"row":103,"column":0},"end":{"row":103,"column":3},"action":"remove","lines":["// "]},{"start":{"row":104,"column":0},"end":{"row":104,"column":3},"action":"remove","lines":["// "]},{"start":{"row":106,"column":0},"end":{"row":106,"column":3},"action":"remove","lines":["// "]},{"start":{"row":107,"column":0},"end":{"row":107,"column":3},"action":"remove","lines":["// "]},{"start":{"row":108,"column":0},"end":{"row":108,"column":3},"action":"remove","lines":["// "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":3},"action":"remove","lines":["// "]},{"start":{"row":111,"column":0},"end":{"row":111,"column":3},"action":"remove","lines":["// "]},{"start":{"row":112,"column":0},"end":{"row":112,"column":3},"action":"remove","lines":["// "]},{"start":{"row":113,"column":0},"end":{"row":113,"column":3},"action":"remove","lines":["// "]},{"start":{"row":114,"column":0},"end":{"row":114,"column":3},"action":"remove","lines":["// "]},{"start":{"row":115,"column":0},"end":{"row":115,"column":3},"action":"remove","lines":["// "]},{"start":{"row":116,"column":0},"end":{"row":116,"column":3},"action":"remove","lines":["// "]},{"start":{"row":117,"column":0},"end":{"row":117,"column":3},"action":"remove","lines":["// "]},{"start":{"row":118,"column":0},"end":{"row":118,"column":3},"action":"remove","lines":["// "]},{"start":{"row":119,"column":0},"end":{"row":119,"column":3},"action":"remove","lines":["// "]},{"start":{"row":120,"column":0},"end":{"row":120,"column":3},"action":"remove","lines":["// "]},{"start":{"row":121,"column":0},"end":{"row":121,"column":3},"action":"remove","lines":["// "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":3},"action":"remove","lines":["// "]},{"start":{"row":124,"column":0},"end":{"row":124,"column":3},"action":"remove","lines":["// "]},{"start":{"row":125,"column":0},"end":{"row":125,"column":3},"action":"remove","lines":["// "]},{"start":{"row":126,"column":0},"end":{"row":126,"column":3},"action":"remove","lines":["// "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":3},"action":"remove","lines":["// "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":3},"action":"remove","lines":["// "]}],[{"start":{"row":106,"column":20},"end":{"row":106,"column":47},"action":"remove","lines":["\"SELECT * FROM sensorData;\""],"id":286},{"start":{"row":106,"column":20},"end":{"row":106,"column":322},"action":"insert","lines":["var thisQueryHour = \"SELECT EXTRACT(MONTH FROM sensorTime) as sensormonth, EXTRACT(DAY FROM sensorTime) as sensorday, EXTRACT(HOUR FROM sensorTime) as sensorhour, AVG(sensorValue::int) as num_obs FROM sensorData GROUP BY sensormonth, sensorday, sensorhour ORDER BY sensormonth, sensorday, sensorhour;\";"]}],[{"start":{"row":106,"column":2},"end":{"row":106,"column":20},"action":"remove","lines":["  var thisQuery = "],"id":287}],[{"start":{"row":106,"column":18},"end":{"row":106,"column":19},"action":"remove","lines":["r"],"id":288},{"start":{"row":106,"column":17},"end":{"row":106,"column":18},"action":"remove","lines":["u"]},{"start":{"row":106,"column":16},"end":{"row":106,"column":17},"action":"remove","lines":["o"]},{"start":{"row":106,"column":15},"end":{"row":106,"column":16},"action":"remove","lines":["H"]}],[{"start":{"row":100,"column":8},"end":{"row":100,"column":68},"action":"remove","lines":["//res.send('<h3>this is the page for my sensor data</h3>'); "],"id":289}],[{"start":{"row":99,"column":4},"end":{"row":99,"column":5},"action":"insert","lines":["/"],"id":290},{"start":{"row":99,"column":5},"end":{"row":99,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":111,"column":12},"end":{"row":111,"column":15},"action":"insert","lines":["// "],"id":291},{"start":{"row":112,"column":12},"end":{"row":112,"column":15},"action":"insert","lines":["// "]},{"start":{"row":113,"column":12},"end":{"row":113,"column":15},"action":"insert","lines":["// "]},{"start":{"row":114,"column":12},"end":{"row":114,"column":15},"action":"insert","lines":["// "]},{"start":{"row":115,"column":12},"end":{"row":115,"column":15},"action":"insert","lines":["// "]},{"start":{"row":116,"column":12},"end":{"row":116,"column":15},"action":"insert","lines":["// "]},{"start":{"row":117,"column":12},"end":{"row":117,"column":15},"action":"insert","lines":["// "]},{"start":{"row":118,"column":12},"end":{"row":118,"column":15},"action":"insert","lines":["// "]},{"start":{"row":119,"column":12},"end":{"row":119,"column":15},"action":"insert","lines":["// "]},{"start":{"row":120,"column":12},"end":{"row":120,"column":15},"action":"insert","lines":["// "]},{"start":{"row":121,"column":12},"end":{"row":121,"column":15},"action":"insert","lines":["// "]}],[{"start":{"row":110,"column":12},"end":{"row":112,"column":68},"action":"insert","lines":["  res.end(template({ sensordata: JSON.stringify(qres.rows)}));","            client.end();","            console.log('1) responded to request for sensor graph');"],"id":292}],[{"start":{"row":125,"column":12},"end":{"row":125,"column":15},"action":"insert","lines":["// "],"id":293}],[{"start":{"row":126,"column":8},"end":{"row":126,"column":11},"action":"insert","lines":["// "],"id":294}],[{"start":{"row":123,"column":17},"end":{"row":124,"column":12},"action":"remove","lines":["","            "],"id":295}],[{"start":{"row":124,"column":10},"end":{"row":124,"column":11},"action":"remove","lines":[" "],"id":296},{"start":{"row":124,"column":9},"end":{"row":124,"column":10},"action":"remove","lines":[" "]},{"start":{"row":124,"column":8},"end":{"row":124,"column":9},"action":"remove","lines":[" "]},{"start":{"row":124,"column":4},"end":{"row":124,"column":8},"action":"remove","lines":["    "]}],[{"start":{"row":125,"column":4},"end":{"row":125,"column":8},"action":"remove","lines":["    "],"id":297}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":298},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":299},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":300},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":301},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":302},{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":110,"column":60},"end":{"row":110,"column":61},"action":"remove","lines":["q"],"id":303}],[{"start":{"row":32,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":304},{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":34,"column":0},"end":{"row":35,"column":65},"action":"insert","lines":["const indexSource = fs.readFileSync(\"templates/sensor.txt\").toString();","var template = handlebars.compile(indexSource, { strict: true });"],"id":305}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"remove","lines":["s"],"id":306},{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"remove","lines":["e"]},{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"remove","lines":["t"]},{"start":{"row":34,"column":42},"end":{"row":34,"column":43},"action":"remove","lines":["a"]},{"start":{"row":34,"column":41},"end":{"row":34,"column":42},"action":"remove","lines":["l"]},{"start":{"row":34,"column":40},"end":{"row":34,"column":41},"action":"remove","lines":["p"]},{"start":{"row":34,"column":39},"end":{"row":34,"column":40},"action":"remove","lines":["m"]},{"start":{"row":34,"column":38},"end":{"row":34,"column":39},"action":"remove","lines":["e"]},{"start":{"row":34,"column":37},"end":{"row":34,"column":38},"action":"remove","lines":["t"]}],[{"start":{"row":34,"column":37},"end":{"row":34,"column":38},"action":"insert","lines":["p"],"id":307},{"start":{"row":34,"column":38},"end":{"row":34,"column":39},"action":"insert","lines":["u"]},{"start":{"row":34,"column":39},"end":{"row":34,"column":40},"action":"insert","lines":["b"]},{"start":{"row":34,"column":40},"end":{"row":34,"column":41},"action":"insert","lines":["l"]},{"start":{"row":34,"column":41},"end":{"row":34,"column":42},"action":"insert","lines":["i"]},{"start":{"row":34,"column":42},"end":{"row":34,"column":43},"action":"insert","lines":["c"]}],[{"start":{"row":34,"column":53},"end":{"row":34,"column":54},"action":"remove","lines":["t"],"id":308},{"start":{"row":34,"column":52},"end":{"row":34,"column":53},"action":"remove","lines":["x"]},{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"remove","lines":["t"]}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"insert","lines":["h"],"id":309},{"start":{"row":34,"column":52},"end":{"row":34,"column":53},"action":"insert","lines":["b"]},{"start":{"row":34,"column":53},"end":{"row":34,"column":54},"action":"insert","lines":["s"]}],[{"start":{"row":113,"column":18},"end":{"row":113,"column":19},"action":"insert","lines":["s"],"id":310}],[{"start":{"row":113,"column":17},"end":{"row":113,"column":18},"action":"insert","lines":["1"],"id":311}]]},"ace":{"folds":[],"scrolltop":1526.5,"scrollleft":0,"selection":{"start":{"row":113,"column":18},"end":{"row":113,"column":18},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":94,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1575689805420,"hash":"afb7a2d0d1733472da1a112ea6d7ba790b6f39c0"}